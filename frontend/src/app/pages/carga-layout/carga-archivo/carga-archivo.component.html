<h2>Carga de archivo</h2>

<form #firstForm="ngForm" class="step-container">

  <nb-alert outline="info">

    <p>1.- Selecciona el archivo con el layout dando clic en el botón con el icono
      <nb-icon icon="plus-square-outline"></nb-icon>
      .
    </p>

    <p>2.- Una vez cargado, da clic en continuar para pasar a la previsualización del archivo.</p>

  </nb-alert>
  <nb-alert outline="success" [ngStyle]="{'background-color':'white'}">

    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12">
      <mat-form-field appearance="standard" class="form-inline">
        <mat-label>Tipo de Carga</mat-label>
        <mat-select [(value)]="selectedTipoCarga" required [formControl]="selected">
          <mat-option>--</mat-option>
          <mat-option *ngFor="let tipoCarga of tipoCargaList" [value]="tipoCarga.value">
            {{tipoCarga.description}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="selected.hasError('required')">
          Este campo es requerido
        </mat-error>
      </mat-form-field>
    </div>
    </div>
    <div class="row mt-4">
      <div class="col-lg-3 col-md-12 col-sm-12">
        <mat-form-field style="width: 100%;">
          <mat-label>Archivo Seleccionado</mat-label>
          <input #finput2 (change)="readExcel($event)" id="file-upload" accept=".xlsx, .csv"  type="file"
            style="display: none" />
          <input matInput [ngModel]="nombreArchivo" readonly="true" name="label-archivo" />

          <!--   <button matSuffix nbButton matRipple status=info (click)="finput2.click()">
          Seleccionar Archivo
        </button> -->
        </mat-form-field>
      </div>

      <div class="col-md-12 col-lg-9 col-sm-12">
        <button mat-raised-button color="accent" matRipple (click)="finput2.click()" onClick="finput2.reset()">
          <nb-icon icon="plus-square-outline"></nb-icon>
          Seleccionar Archivo
        </button>
      </div>
    </div>
  </nb-alert>
  <hr class="my-4">
  <button mat-raised-button color="primary" (click)="siguiente()" type="button" [disabled]="!fileLoaded || selected.hasError('required')"
    [ngStyle]="{'float':'right'}">
    Continuar
    <nb-icon icon="arrow-circle-right-outline"></nb-icon>
  </button>
</form>
